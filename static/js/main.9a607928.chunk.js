(this["webpackJsonphighspeedrail-app"]=this["webpackJsonphighspeedrail-app"]||[]).push([[0],{11:function(t,e,n){},12:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var a=n(1),c=n.n(a),i=n(3),r=n.n(i),s=(n(11),n(12),n(0)),o=function(){return Object(s.jsx)("div",{className:"loading",children:Object(s.jsx)("h1",{children:"loading..."})})},d=[{id:"1000",station:"\u53f0\u5317"},{id:"1010",station:"\u677f\u6a4b"},{id:"1020",station:"\u6843\u5712"},{id:"1030",station:"\u65b0\u7af9"},{id:"1040",station:"\u53f0\u4e2d"},{id:"1050",station:"\u5609\u7fa9"},{id:"1060",station:"\u53f0\u5357"},{id:"1070",station:"\u5de6\u71df"}],l=n(5),j=n.n(l),u=n(6),h=n(2),b=c.a.createContext(),O=function(t){var e=t.children,n=Object(a.useState)(!1),c=Object(h.a)(n,2),i=c[0],r=c[1],o=Object(a.useState)(null),d=Object(h.a)(o,2),l=d[0],O=d[1],p=Object(a.useState)(""),x=Object(h.a)(p,2),v=x[0],f=x[1],g=Object(a.useState)(""),S=Object(h.a)(g,2),m=S[0],C=S[1],k="https://ptx.transportdata.tw/MOTC/v2/Rail/THSR/ODFare/".concat(v,"/to/").concat(m,"?$top=1&$format=JSON");console.log("StartStation\u70ba",v),console.log("EndStation\u70ba",m);var F=function(){var t=Object(u.a)(j.a.mark((function t(){var e,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==v&&""!==m){t.next=2;break}return t.abrupt("return");case 2:return r(!0),t.prev=3,t.next=6,fetch(k);case 6:return e=t.sent,t.next=9,e.json();case 9:n=t.sent,O(n),r(!1),console.log("trainData\u70ba",n),n[0].Fares.map((function(t){return console.log("\u9019\u662fAPP\u5167\u7684",t)})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),console.log("\u6293\u53d6api\u7570\u5e38");case 19:case"end":return t.stop()}}),t,null,[[3,16]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){F()}),[m]),Object(s.jsx)(b.Provider,{value:{loading:i,setLoading:r,trainData:l,setTrainData:O,startStation:v,setStartStation:f,endStation:m,setEndStation:C,handleClick:function(){C(document.getElementById("end").value)},url:k,getData:F},children:e})},p=function(){return Object(a.useContext)(b)};var x=function(){var t=p(),e=t.handleClick,n=t.startStation,a=(t.endStation,t.setStartStation);return t.setEndStation,Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{children:["\u4e58\u8eca\u8d77\u9ede:",Object(s.jsx)("select",{id:"start",onChange:function(){return a(document.getElementById("start").value)},children:d.map((function(t){var e=t.station,n=t.id;return Object(s.jsx)("option",{value:n,children:e},n)}))})]}),Object(s.jsxs)("div",{children:["\u4e58\u8eca\u7d42\u9ede:",Object(s.jsx)("select",{id:"end",children:d.map((function(t){var e=t.station,a=t.id;return a===n?Object(s.jsx)("option",{value:a,disabled:!0,children:e},a):Object(s.jsx)("option",{value:a,children:e},a)}))})]}),Object(s.jsx)("button",{onClick:e,children:"\u67e5\u8a62"}),Object(s.jsx)("article",{})]})};var v=function(){var t=p().trainData;return Object(s.jsx)(s.Fragment,{children:t&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("h3",{children:[t[0].OriginStationName.Zh_tw,"---",t[0].DestinationStationName.Zh_tw]}),t[0].Fares.map((function(t,e){var n=t.TicketType,a=t.Price;return console.log(n,a),Object(s.jsx)("div",{children:Object(s.jsxs)("h3",{children:[n,":$",a]})},e)}))]})})};var f=function(){return p().loading?Object(s.jsx)(o,{}):Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("p",{children:"\u9ad8\u9435\u7968\u50f9\u67e5\u8a62\u7cfb\u7d71"}),Object(s.jsx)(x,{}),Object(s.jsx)(v,{})]})})},g=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),i(t),r(t)}))};r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(O,{children:Object(s.jsx)(f,{})})}),document.getElementById("root")),g()}},[[15,1,2]]]);
//# sourceMappingURL=main.9a607928.chunk.js.map